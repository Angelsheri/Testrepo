<div id="chat-widget-container" style="position: relative; width: 50px; height: 50px; overflow: hidden;">
    <chat-widget
        class="custom-chat-widget"  
        ack-icon="MessageDotsCircle"
        ack-placeholder-color="#000000FF"
        agency-name=""
        agency-website=""
        allow-avatar-image="false"
        auto-country-code="true"
        chat-icon="messageSquare"
        chat-type="liveChat"
        default-widget="true"
        enable-revisit-message="false"
        heading="Have any questions?"
        is-prompt-avatar-image-optimize="true"
        legal-msg="By submitting you agree to receive SMS or e-mails for the provided channel. Rates may be applied."
        live-chat-ack-msg="Your chat has ended"
        live-chat-end-msg="To start a new chat,"
        live-chat-feedback-msg="Please rate your experience."
        live-chat-feedback-note="Thank you for taking your time."
        live-chat-intro-msg="Give us a minute to assign you the best person to help you out."
        live-chat-user-inactive-msg="Looks like it's taking too long. Please leave your contact details. We will get back to you shortly."
        live-chat-user-inactive-time="15"
        live-chat-visitor-inactive-msg="Chat closed due to user inactivity."
        live-chat-visitor-inactive-time="15"
        locale="en-us"
        location-id="LdcuiH328WKijRn8EJ4u"
        primary-color="#188bf6"
        prompt-avatar="https://widgets.leadconnectorhq.com/chat-widget/assets/defaultAvatar.png"
        prompt-avatar-alt-text="Avatar"
        prompt-msg="Hi there, have a question? Let's chat here!"
        prompt-type="normal"
        resources-url="https://widgets.leadconnectorhq.com/chat-widget/loader.js"
        revisit-prompt-msg="Welcome back {{ name }}, how can we help you today?"
        send-label="Send"
        show-agency-branding="false"
        show-consent-checkbox="false"
        show-live-chat-welcome-msg="true"
        show-prompt="false"
        src="https://widgets.leadconnectorhq.com/loader.js"
        sub-heading="Hi there! Mary here. How can I help you today? Want info on our AI services, schedule a call, or get a free custom AI demo for your business?"
        success-msg="One of our representatives will contact you shortly."
        thank-you-msg="Thank You!"
        width="50px"   <!-- Added width directly -->
        height="50px"  <!-- Added height directly -->
        theme="{
            &quot;name&quot;: &quot;custom&quot;,
            &quot;colors&quot;: {
                &quot;chatBubbleColor&quot;: &quot;#3ECF8EFF&quot;,
                &quot;backgroundColor&quot;: &quot;#FFFFFF&quot;,
                &quot;headerColor&quot;: &quot;#1c1c1cFF&quot;,
                &quot;buttonColor&quot;: &quot;#a84e15&quot;,
                &quot;avatarBackgroundColor&quot;: &quot;#ffffff&quot;,
                &quot;avatarBorderColor&quot;: &quot;#FFFFFFFF&quot;,
                &quot;senderMessageColor&quot;: &quot;#a84e15&quot;,
                &quot;receivedMessageColor&quot;: &quot;#edededFF&quot;
            },
            &quot;typography&quot;: {
                &quot;fontFamily&quot;: &quot;Roboto&quot;,
                &quot;colors&quot;: {
                    &quot;senderMessageTextColor&quot;: &quot;#FFFFFFFF&quot;,
                    &quot;receivedMessageTextColor&quot;: &quot;#000000FF&quot;,
                    &quot;systemMessageTextColor&quot;: &quot;#000000FF&quot;,
                    &quot;headerMessageTextColor&quot;: &quot;#FFFFFFFF&quot;,
                    &quot;welcomeMessageTextColor&quot;: &quot;#000000FF&quot;
                }
            }
        }">
    </chat-widget>
</div>

<script src="https://widgets.leadconnectorhq.com/loader.js" data-resources-url="https://widgets.leadconnectorhq.com/chat-widget/loader.js" data-widget-id="66a7fe4e9fe0b459b86aabb7"></script>

<!-- Add your custom styles -->
<style>
    .custom-chat-widget {
        width: 50px !important;   /* Ensuring width is set */
        height: 50px !important;  /* Ensuring height is set */
        overflow: hidden;
    }
</style>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        function adjustChatWidget() {
            let chatWidget = document.querySelector('chat-widget');
            let container = document.getElementById('chat-widget-container');

            if (chatWidget && chatWidget.shadowRoot) {
                let widgetElement = chatWidget.shadowRoot.querySelector('#lc_text-widget');
                if (widgetElement) {
                    // Set the chat widget inside a fixed-size container (50x50px)
                    container.style.width = '50px';
                    container.style.height = '50px';
                    container.style.overflow = 'hidden';
                    container.style.position = 'relative';

                    // Force the widget to fit into the container
                    widgetElement.style.width = '100%';
                    widgetElement.style.height = '100%';
                    widgetElement.style.overflow = 'hidden';

                    // Hide unnecessary elements like the header
                    let headerElement = chatWidget.shadowRoot.querySelector('.lc_text-widget_heading--root');
                    if (headerElement) {
                        headerElement.style.display = 'none';
                    }

                    // Automatically open the chat without showing the button
                    let button = chatWidget.shadowRoot.querySelector('#lc_text-widget--btn');
                    if (button) {
                        button.click();
                        button.style.display = 'none';
                    }

                    // Adjust the message box for compact display
                    let boxElement = chatWidget.shadowRoot.querySelector('#lc_text-widget--box');
                    if (boxElement) {
                        boxElement.style.borderRadius = '7px';
                        boxElement.style.height = '100%';
                        boxElement.style.display = 'flex';
                        boxElement.style.flexDirection = 'column';

                        // Ensure message area scrolls and input area stays fixed
                        let messageArea = chatWidget.shadowRoot.querySelector('.lc_text-widget_message-area--root');
                        if (messageArea) {
                            messageArea.style.flexGrow = '1';
                            messageArea.style.overflowY = 'auto';
                        }

                        let inputArea = chatWidget.shadowRoot.querySelector('.lc_text-widget_input-area--root');
                        if (inputArea) {
                            inputArea.style.position = 'relative';
                            inputArea.style.bottom = '0';
                            inputArea.style.width = '100%';
                        }
                    }

                    // Apply responsive adjustments if needed
                    let style = document.createElement('style');
                    style.textContent = `
                        @media screen and (max-width: 768px) {
                            .lc_text-widget_message--text,
                            .lc_text-widget_input--root,
                            .lc_text-widget_heading--text {
                                font-size: 14px !important;
                            }
                            #lc_text-widget {
                                height: auto;
                            }
                        }
                    `;
                    chatWidget.shadowRoot.appendChild(style);

                    clearInterval(checkInterval); // Stop interval once the widget is adjusted
                }
            }
        }

        // Check if the chat widget is loaded and adjust
        let checkInterval = setInterval(adjustChatWidget, 100); 
    });
</script>
